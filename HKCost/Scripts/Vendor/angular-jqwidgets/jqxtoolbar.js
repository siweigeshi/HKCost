/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxToolBar","",{}),e.extend(e.jqx._jqxToolBar.prototype,{defineInstance:function(){var t={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===e.jqx._jqxToolBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;"none"!==e.host.css("display")&&!1!==document.body.contains(e.element)||(e._initiallyHidden=!0),e._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},e._toolChanges=[],e.render()},render:function(){var t=this,o=!0;t.element.innerHTML="",t.element.className.length>0&&t._removeClass(t.element,t.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),t._setSize(),t._destroyTools(!1),t._toolWidgets&&(o=!1,e(t._minimizeButton).remove(),e(t._minimizePopup).remove()),t._appendMinimizeButton(),t._addClasses(),t._initiallyHidden||t._createTools(),!0===t.disabled&&(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)),t._initiallyHidden||t._minimize(),t._removeHandlers(),t._addHandlers(),!1===o&&t._toolChanges.length>0&&t._restoreChanges()},refresh:function(e){!0!==e&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){var e=this;e._removeHandlers(),e._destroyTools(),e.host.remove()},_destroyTools:function(e){var t=this;if(!1!==e&&(e=!0),t._toolWidgets)for(var o=t._toolWidgets.length-1;o>=0;o--)t._destroyTool(o,e,!0)},_destroyTool:function(t,o,i){var l=this;t=parseInt(t,10);var n=l._toolWidgets[t];if(n){var r=n.type,a=n.tool,s=n.menuTool;"custom"!==r?(a[l._toolToWidgetMapping[r]]("destroy"),s&&s[l._toolToWidgetMapping[r]]("destroy")):(a.remove(),s&&s.remove()),n.menuSeparator&&e(n.menuSeparator).remove(),l._toolWidgets.splice(t,1),l._checkType(r)&&l._refreshButtonGroups(),!0!==i&&l._minimize(),!1!==o&&l._toolChanges.push({action:"destroyTool",index:t})}},destroyTool:function(e){this._destroyTool(e,!0)},addTool:function(e,t,o,i){var l,n,r,a,s=this;l="first"===t?0:s._toolWidgets.length,s._toolWidgets[l-1]&&(n=s._toolWidgets[l-1].tool,r=s._toolWidgets[l-1].separatorAfterWidget?"|":s._toolWidgets[l-1].type),!0===o?a="|":s._toolWidgets[l+1]&&(a=s._toolWidgets[l+1].type);var d=s._initializeTool(l,e,n,r,a,i,!1);"first"===t?s._toolWidgets.splice(0,0,d):s._toolWidgets.push(d),s._removeHandlers(),s._addHandlers(),s._checkType(e)&&s._refreshButtonGroups(),"first"!==t&&s._minimizedTools>0?s._minimizeTool(!0):s._minimize(),s._toolChanges.push({action:"addTool",type:e,position:t,separator:o,initCallback:i})},_disableTools:function(e){for(var t=this,o=0;o<t._toolWidgets.length;o++)t.disableTool(o,e)},disableTool:function(e,t){var o=this;e=parseInt(e,10);var i=o._toolWidgets[e];if(i){var l=i.type;"custom"!==l&&(i.tool[o._toolToWidgetMapping[l]]({disabled:t}),i.menuTool[o._toolToWidgetMapping[l]]({disabled:t})),o._toolChanges.push({action:"disableTool",index:e,disable:t})}},propertyChangedHandler:function(t,o,i,l){if("initTools"!==o&&l!==i)switch(o){case"theme":""!==i&&(t._removeClass(t.element,t.toThemeProperty("jqx-widget-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-all-"+i+" jqx-toolbar-"+i)),t._removeClass(t._minimizePopup,"jqx-popup-"+i+" jqx-fill-state-normal-"+i+" jqx-rc-b-"+i+" jqx-toolbar-minimized-popup-"+i)),t._addClasses(),t._minimizePopup.className+=" "+t.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var n=0;n<t._toolWidgets.length;n++){var r=t._toolWidgets[n];"custom"!==r.type&&(r.menuTool&&(r.menuSeparator&&(""!==i&&t._removeClass(r.menuSeparator,"jqx-fill-state-pressed-"+i+" jqx-toolbar-minimized-popup-separator-"+i),r.menuSeparator.className+=" jqx-fill-state-pressed-"+l+" jqx-toolbar-minimized-popup-separator-"+l),r.menuTool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:l})),r.tool[t._toolToWidgetMapping[t._toolWidgets[n].type]]({theme:l}))}e.jqx.utilities.setTheme(i,l,t.host);break;case"width":t.element.style.width=t._toPx(l),t._minimize();break;case"minWidth":t.element.style.minWidth=t._toPx(l),t._minimize();break;case"maxWidth":t.element.style.maxWidth=t._toPx(l),t._minimize();break;case"height":var a,s=!1;if(t.element.style.height=t._toPx(l),"string"==typeof l&&-1!==l.indexOf("%")){if("string"==typeof i&&-1!==i.indexOf("%"))return void t.host.trigger("resize");s=!0}else a=parseInt(l,10),a-=t._getComputedStyle(t.element,"paddingTop")+t._getComputedStyle(t.element,"paddingBottom")+t._getComputedStyle(t.element,"borderTopWidth")+t._getComputedStyle(t.element,"borderBottomWidth");for(var d=0;d<t._toolWidgets.length;d++){var m=t._toolWidgets[d],p=m.type;"button"===p||"toggleButton"===p||"repeatButton"===p||"linkButton"===p?(m.tool[0].style.height=s?"100%":t._toPx(a),m.menuTool&&(m.menuTool[0].style.height=s?"100%":t._toPx(a))):"dropdownlist"!==p&&"combobox"!==p&&"input"!==p||(m.tool[t._toolToWidgetMapping[p]]({height:s?"100%":a-2}),m.menuTool&&m.menuTool[t._toolToWidgetMapping[p]]({height:s?"100%":a-2}))}break;case"tools":t._removeHandlers(),t._destroyTools(),t._createTools(),t._addHandlers(),t._minimize();break;case"minimizeWidth":if(!0===t._isOpen){var u=t._getComputedStyle(t._minimizePopup,"left")-(l-i);t._minimizePopup.style.width=t._toPx(l),t._minimizePopup.style.left=t._toPx(u)}else t._minimizePopup.style.width=t._toPx(l);break;case"rtl":t.render();break;case"disabled":!0===l?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t._disableTools(!0)):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t._disableTools(!1))}},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var i=this.events[t];o.owner=this;var l=new e.Event(i);return l.owner=this,l.args=o,l.preventDefault&&l.preventDefault(),this.host.trigger(l)},_addClasses:function(){var e=this,t="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";!0===e.rtl&&(t+=" jqx-toolbar-rtl"),e.element.className+=" "+e.toThemeProperty(t)},_checkType:function(e){return"button"===e||"toggleButton"===e||"repeatButton"===e||"linkButton"===e},_refreshButtonGroups:function(){function t(t,i,l,n,r,a){var s=t.tool[0],d=t.menuTool[0],m={add:"",remove:""};m[i]+=" jqx-toolbar-tool-inner-button",m[l]+=" jqx-rc-all",m[n]+=" jqx-rc-l",m[r]+=" jqx-rc-r",""!==m.add&&(s.className+=" "+o.toThemeProperty(e.trim(m.add)),d&&(d.className+=" "+o.toThemeProperty(e.trim(m.add)))),""!==m.remove&&(o._removeClass(s,o.toThemeProperty(e.trim(m.remove))),d&&o._removeClass(d,o.toThemeProperty(e.trim(m.remove)))),s.style.borderLeftWidth=a+"px",d&&(d.style.borderLeftWidth=a+"px")}for(var o=this,i=0;i<o._toolWidgets.length;i++){var l=o._toolWidgets[i];if(o._checkType(l.type)){var n,r,a=l.tool,s=l.menuTool;i>0&&(n=o._toolWidgets[i-1].separatorAfterWidget?"|":o._toolWidgets[i-1]),l.separatorAfterWidget?r="|":i<o._toolWidgets.length-1&&(r=o._toolWidgets[i+1]);var d=n&&o._checkType(n.type),m=!1===l.separatorAfterWidget&&r&&o._checkType(r.type);d||m?!d&&m?t(l,"remove","remove","add","remove",1):d&&m?t(l,"add","remove","remove","remove",0):d&&!m&&t(l,"remove","remove","remove","add",0):t(l,"remove","add","remove","remove",1);var p=o.rtl?"rtl":"ltr";m?(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)))):l.separatorAfterWidget?(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),a[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-separator-"+p),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)),s[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-separator-"+p))):(o._removeClass(a[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),a[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p),s&&(o._removeClass(s[0],o.toThemeProperty("jqx-toolbar-tool-separator-"+p)),s[0].className+=" "+o.toThemeProperty("jqx-toolbar-tool-no-separator-"+p)))}}},_addHandlers:function(){var t=this,o=t.element.id;e.jqx.utilities.resize(t.host,function(){if(t._initiallyHidden)return t._createTools(),t._minimize(),void(t._initiallyHidden=!1);!0===t._isOpen&&(t._minimizePopup.style.display="none",t._isOpen=!1,t._raiseEvent("1")),t._minimize()}),t.addHandler(document,"click.jqxToolbar"+o,function(){!0===t._isOpen&&t._openMinimizePopup()}),t.addHandler(t._minimizeButton,"click.jqxToolbar"+o,function(e){e.stopPropagation(),t._openMinimizePopup()}),t.addHandler(e(".jqx-popup"),"click.jqxToolbar"+o,function(e){-1===e.target.className.indexOf("jqx-window-content")&&e.stopPropagation()})},_removeHandlers:function(){var t=this,o=t.element.id;t.removeHandler(document,"click.jqxToolbar"+o),t.removeHandler(t._minimizeButton,"click.jqxToolbar"+o),t.removeHandler(e(".jqx-popup"),"click.jqxToolbar"+o)},_setSize:function(){var e=this,t=e.element.style;t.width=e._toPx(e.width),t.height=e._toPx(e.height),e.minWidth&&(t.minWidth=e._toPx(e.minWidth)),e.maxWidth&&(t.maxWidth=e._toPx(e.maxWidth))},_createTools:function(){var t=this,o=t.tools.split(" "),i=e.trim(t.tools.replace(/\|/g,""));i=(i=i.replace(/\s+/g," ")).split(" "),t._toolWidgets=[];for(var l=0,n=0;n<i.length;n++){i[n]!==o[n+l]&&l++;var r,a=n+l;t._toolWidgets[n-1]&&(r=t._toolWidgets[n-1].tool);var s=o[a],d=o[a-1],m=o[a+1],p=t.initTools;if(""===s)return!0;var u=t._initializeTool(n,s,r,d,m,p,!0);t._toolWidgets.push(u)}t._minimizePopup.style.display="none",t._minimizePopup.style.visibility="visible"},_initializeTool:function(e,t,o,i,l,n,r){var a,s,d=this,m=d._initializeWidget(t,a,s,o);a=m.tool,s=m.menuTool;var p,u=a[0],_="jqx-toolbar-tool",h=s[0],c=!0;if(!0===d.rtl&&(_+=" jqx-toolbar-tool-rtl"),d.initTools){var g;!(g=!0===r?d.initTools(t,e,a,!1):n(t,a,!1))||!1!==g.minimizable&&!1!==g.menuTool?(!0===r?d.initTools(t,e,s,!0):n(t,s,!0),s&&(p="jqx-toolbar-tool-minimized")):("custom"!==t?s[d._toolToWidgetMapping[t]]("destroy"):s.remove(),!1===g.minimizable&&(c=!1),s=!1)}var f=!1;s&&(h.style.display="none");var x,y=d.rtl?"rtl":"ltr",b=["button","toggleButton","repeatButton","linkButton"],v={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};return"|"===l?(f=!0,_+=" jqx-toolbar-tool-separator-"+y,s&&(p+=" jqx-toolbar-tool-separator-"+y),s&&((x=document.createElement("div")).className=d.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),d._minimizePopup.appendChild(x))):(-1===b.indexOf(t)||-1!==b.indexOf(t)&&-1===b.indexOf(l))&&(_+=" jqx-toolbar-tool-no-separator-"+y,s&&(p+=" jqx-toolbar-tool-no-separator-"+y)),-1===b.indexOf(i)&&-1!==b.indexOf(t)&&-1!==b.indexOf(l)?!1===d.rtl?(a[v[t]]({roundedCorners:"left"}),s&&s[v[t]]({roundedCorners:"left"})):(a[v[t]]({roundedCorners:"left"}),u.style.borderLeftWidth="0px",s&&(s[v[t]]({roundedCorners:"left"}),h.style.borderLeftWidth="0px")):-1!==b.indexOf(i)&&-1!==b.indexOf(t)&&-1!==b.indexOf(l)?(_+=" jqx-toolbar-tool-inner-button",u.style.borderLeftWidth="0px",s&&(p+=" jqx-toolbar-tool-inner-button",h.style.borderLeftWidth="0px")):-1!==b.indexOf(i)&&-1!==b.indexOf(t)&&-1===b.indexOf(l)&&(!1===d.rtl?(a[v[t]]({roundedCorners:"right"}),u.style.borderLeftWidth="0px",s&&(s[v[t]]({roundedCorners:"right"}),h.style.borderLeftWidth="0px")):(a[v[t]]({roundedCorners:"left"}),s&&s[v[t]]({roundedCorners:"left"}))),u.className+=" "+d.toThemeProperty(_),s&&(h.className+=" "+d.toThemeProperty(p)),{type:t,tool:a,separatorAfterWidget:f,minimizable:c,minimized:!1,menuTool:s,menuSeparator:x}},_initializeWidget:function(t,o,i,l){var n,r,a=this,s=a._toolToWidgetMapping[t],d=!1;if("string"==typeof a.height&&-1!==a.height.indexOf("%"))d=!0;else{var m=window.getComputedStyle?window.getComputedStyle(a.element):a.element.currentStyle;r=a.element.offsetHeight-(parseInt(m.paddingTop,10)+parseInt(m.paddingBottom,10)+parseInt(m.borderTopWidth,10)+parseInt(m.borderBottomWidth,10))}if("custom"!==t&&void 0===a.host[s]){var p=a._toolToWidgetMapping[t].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+p+".js")}switch(t){case"button":case"toggleButton":o=document.createElement("button"),i=document.createElement("button"),n={theme:a.theme,height:d?"100%":r,disabled:a.disabled,rtl:a.rtl};break;case"dropdownlist":case"combobox":o=document.createElement("div"),i=document.createElement("div"),n={theme:a.theme,autoDropDownHeight:!0,height:d?"100%":r-2,disabled:a.disabled,rtl:a.rtl};break;case"input":(o=document.createElement("input")).setAttribute("type","text"),(i=document.createElement("input")).setAttribute("type","text"),n={theme:a.theme,height:d?"100%":r-2,disabled:a.disabled,rtl:a.rtl};break;case"custom":o=document.createElement("div"),i=document.createElement("div")}return function(){var t=a.host.children(),n=e(a._minimizePopup).children();l||1===t.length&&0===n.length?(a.element.appendChild(o),a._minimizePopup.appendChild(i)):(a.element.insertBefore(o,t[1]),a._minimizePopup.insertBefore(i,n[0]))}(),o=e(o),i=e(i),"custom"!==t&&(o[s](n),i[s](n)),{tool:o,menuTool:i}},_appendMinimizeButton:function(){var e=this;e._minimizedTools=0;var t=document.createElement("div"),o="jqx-menu-minimized-button jqx-toolbar-minimized-button",i=document.createElement("div"),l="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";i.setAttribute("id",e.element.id+"Popup"),!0===e.rtl&&(o+=" jqx-toolbar-minimized-button-rtl",l+=" jqx-toolbar-minimized-popup-rtl"),t.className=e.toThemeProperty(o),i.className=e.toThemeProperty(l),e.element.appendChild(t),document.body.appendChild(i),e._isOpen=!1,i.style.width=e._toPx(e.minimizeWidth),e._minimizeButton=t,e._minimizePopup=i},_openMinimizePopup:function(){var t=this;if(!1===t._isOpen){var o=t.host.offset(),i=o.left;!1===t.rtl&&(i+=t.element.offsetWidth-parseInt(t.minimizeWidth,10)-(t._getComputedStyle(t._minimizePopup,"paddingLeft")+t._getComputedStyle(t._minimizePopup,"paddingRight")+t._getComputedStyle(t._minimizePopup,"borderLeftWidth")+t._getComputedStyle(t._minimizePopup,"borderRightWidth")));var l=o.top+t.element.offsetHeight-1;t._minimizePopup.style.left=i+"px",t._minimizePopup.style.top=l+"px",e(t._minimizePopup).slideDown("fast",function(){t._isOpen=!0,t._raiseEvent("0")})}else e(t._minimizePopup).slideUp("fast"),t._isOpen=!1,t._raiseEvent("1")},_minimize:function(){var t=this,o=0;t._minimizedTools>0&&(o=t._minimizeButton.offsetWidth+t._getComputedStyle(t._minimizeButton,"marginLeft"));var i=t.element.offsetWidth-t._getComputedStyle(t.element,"paddingLeft")-t._getComputedStyle(t.element,"paddingRight")-o-10;if(!(i<0)){for(var l,n=0,r=0;r<t._toolWidgets.length;r++){var a=t._toolWidgets[r].tool;!1===t._toolWidgets[r].minimized?n+=a[0].offsetWidth+t._getComputedStyle(a[0],"marginLeft")+t._getComputedStyle(a[0],"marginRight"):void 0===l&&(l=function(o){var i,l=o.cloneNode(!0);return l.style.visibility="hidden",l.style.display="block",l.style.position="absolute",document.body.appendChild(l),i=l.offsetWidth+t._getComputedStyle(l,"marginLeft")+t._getComputedStyle(l,"marginRight"),e(l).remove(),i}(a[0]))}n>i?(t._minimizeTool(!0),t._minimize()):void 0!==l&&n+l<i&&(t._minimizeTool(!1),t._minimize())}},_minimizeTool:function(e){var t,o,i=this;if(!0===e){for(var l=i._toolWidgets.length-1;l>=0;l--)if(!1!==(t=i._toolWidgets[l]).minimizable&&!1===t.minimized){o=i._getToolValue(t.tool,t.type),t.tool[0].style.display="none",t.menuTool&&(t.menuTool[0].style.display="block",i._setToolValue(o,t.menuTool,t.type)),t.menuSeparator&&(t.menuSeparator.style.display="block"),i._toolWidgets[l].minimized=!0,i._minimizedTools++,1===i._minimizedTools&&(i._minimizeButton.style.display="block");break}}else for(var n=0;n<i._toolWidgets.length;n++)if(!0===(t=i._toolWidgets[n]).minimized){t.menuTool&&(o=i._getToolValue(t.menuTool,t.type),t.menuTool[0].style.display="none"),t.menuSeparator&&(t.menuSeparator.style.display="none"),t.tool.show(),t.menuTool&&i._setToolValue(o,t.tool,t.type),i._toolWidgets[n].minimized=!1,i._minimizedTools--,0===i._minimizedTools&&(i._minimizeButton.style.display="none");break}},_getToolValue:function(e,t){var o;switch(t){case"button":case"custom":o=void 0;break;case"toggleButton":var i=-1!==e[0].className.indexOf("jqx-fill-state-pressed");o={text:e[0].innerHTML,toggled:i};break;case"dropdownlist":case"combobox":var l=this._toolToWidgetMapping[t];o=e[l]("checkboxes")?e[l]("val"):e[l]("getSelectedIndex");break;case"input":o=e.val()}return o},_setToolValue:function(e,t,o){if(void 0!==e)switch(o){case"button":case"custom":break;case"toggleButton":t[0].innerHTML=e.text,-1!==t[0].className.indexOf("jqx-fill-state-pressed")!==e.toggled&&t.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var i=this._toolToWidgetMapping[o];if(t[i]("checkboxes")){if(t[i]("uncheckAll"),""===e)return;for(var l=e.split(","),n=0;n<l.length;n++)t[i]("checkItem",l[n])}else e=t[i]("selectIndex",e);break;case"input":t.val(e)}},_restoreChanges:function(){var t=this;e.each(t._toolChanges,function(e,o){"addTool"===o.action?t.addTool(o.type,o.position,o.separator,o.initCallback):"destroyTool"===o.action?t._destroyTool(o.index):"disableTool"===o.action&&t.disableTool(o.index,o.disable)})},_removeClass:function(t,o){e(t).removeClass(o)},_toPx:function(e){return"number"==typeof e?e+"px":e},_getComputedStyle:function(e,t){var o;return window.getComputedStyle?o=window.getComputedStyle(e):e.currentStyle&&(o=e.currentStyle),"string"==typeof o[t]&&-1===o[t].indexOf("px")?0:parseInt(o[t],10)}})}(jqxBaseFramework);

