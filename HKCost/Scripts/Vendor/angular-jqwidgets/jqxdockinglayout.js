/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),e.extend(e.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var t={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===e.jqx._jqxDockingLayout.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;if(!t.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._addClasses(),!0!==t.base._initiallyHidden&&(t._createOverlay(),t._createEdgeOverlays())},loadLayout:function(t){if(void 0!==t&&!1===e.isEmptyObject(t)){for(var o=this.base,a=o.element.id,r=o._find(document.body,"."+a+"FloatGroup"),n=0;n<r.length;n++){var i=e(r[n]);i.off(),i.jqxWindow("destroy")}o.loadLayout(t)}},destroy:function(){for(var t=this,o=t.base,a=o.element.id,r=o._find(document.body,"."+a+"FloatGroup"),n=0;n<r.length;n++){var i=e(r[n]);i.off(),i.jqxWindow("destroy")}t._removeHandlers(),o.destroy()},addFloatGroup:function(e,t,o,a,r,n,i){var d=this.base,l={type:"floatGroup",width:e,height:t,position:o,items:[],programmaticallyAdded:!0},s={type:a,title:r,content:n,initContent:i};l.items.push(s),d.layout.push(l),d.render()},_raiseEvent:function(t,o){void 0===o&&(o={owner:null});var a=this.events[t];o.owner=this;var r=new e.Event(a);return r.owner=this,r.args=o,r.preventDefault&&r.preventDefault(),this.base.host.trigger(r)},_addClasses:function(){var e=this.base;e.host.addClass(e.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var t=this,o=t.base,a=o.element.id;t.removeHandler(e(document),"mousemove.jqxDockingLayout"+a),t.removeHandler(o.host,"mouseleave.jqxDockingLayout"+a),o._touchDevice&&(t.removeHandler(e(document),"touchmove.jqxDockingLayout"+a),t.removeHandler(e(document),"touchend.jqxDockingLayout"+a))},_removeByDragHandler:function(t,o,a,r,n){void 0===r&&(r=t.args.draggedIndex),void 0===n&&(n=!0);var i=this,d=i.base,l=o.items,s=l[r],u=d._find(o.widget,".jqx-ribbon-content-section")[r],c=d._detachChildNodes(u);a.hasClass("jqx-ribbon")||(a=e(d._find(a,".jqx-ribbon")[0])),i.base._suppressResizeHandler=!0,i._createFloatGroup(t,s.title,c,"documentGroup",o,s),i.base._closeDocumentPanel(r,l,o,a,n),i.base._suppressResizeHandler=!1},_floatTabbedGroup:function(t,o,a){for(var r,n,i=this,d=i.base,l=[],s=e(d._find(o,".jqx-ribbon")[0]),u=d._find(s,".jqx-ribbon-content-section"),c=0;c<t.items.length;c++){var y=t.items[c],p=d._detachChildNodes(u[c]);y.selected&&(r=y.title,n=c),l.push(p)}i._createFloatGroup(a,r,l,"tabbedGroup",t,null,n),i.base._close(t),a&&(a.target.style.cursor="")},_addTabbedGroupHandlers:function(t,o){function a(e){!0===s&&!0!==i._clickedToResize&&(n._floatTabbedGroup(t,o,e),s=!1)}var r,n=this,i=n.base,d=i.element.id,l=i._find(o,".jqx-layout-window-header")[0],s=!1,u=i._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];n.addHandler(l,u[0]+".jqxDockingLayout"+d,function(e){if(!1!==t.allowDrag&&(s=!0,e.target.style.cursor="move",i._touchDevice)){var o=e.originalEvent.touches[0];r=document.elementFromPoint(o.pageX,o.pageY)}}),n.addHandler(l,u[1]+".jqxDockingLayout"+d,function(e){s=!1,e.target.style.cursor=""}),i._touchDevice?n.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(e){!0===i._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];r!==document.elementFromPoint(t.pageX,t.pageY)&&a({pageX:t.pageX,pageY:t.pageY,target:r})}):n.addHandler(l,"mouseleave.jqxDockingLayout"+d,function(e){a({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_floatAutoHideGroup:function(e,t,o,a){var r=this,n=r.base._detachChildNodes(o);r._createFloatGroup(a,t,n,"autoHideGroup",e,e),r.base._close(e)},_addAutoHideGroupHandlers:function(t,o,a,r){function n(e){!0===u&&(d._floatAutoHideGroup(t,a,r,e),u=!1,e.target.style.cursor="")}var i,d=this,l=d.base,s=l.element.id,u=!1,c=l._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];d.addHandler(o,c[0]+".jqxDockingLayout"+s,function(e){if(!1!==t.parent.allowDrag&&(u=!0,e.target.style.cursor="move",l._touchDevice)){var o=e.originalEvent.touches[0];i=document.elementFromPoint(o.pageX,o.pageY)}}),d.addHandler(o,c[1]+".jqxDockingLayout"+s,function(e){u=!1,e.target.style.cursor=""}),l._touchDevice?d.addHandler(e(document),"touchmove.jqxDockingLayout"+s,function(e){!0===l._clickedToResize&&e.preventDefault();var t=e.originalEvent.touches[0];i!==document.elementFromPoint(t.pageX,t.pageY)&&n({pageX:t.pageX,pageY:t.pageY,target:i})}):d.addHandler(o,"mouseleave.jqxDockingLayout"+s,function(e){n({pageX:e.pageX,pageY:e.pageY,target:e.target})})},_createFloatGroup:function(t,o,a,r,n,i,d){var l,s,u,c,y,p,g=this,v=g.base,h=document.createElement("div");if(h.className=v.toThemeProperty("jqx-docking-layout-group-floating")+" "+v.element.id+"FloatGroup",h.innerHTML="<div></div><div></div>",document.body.appendChild(h),h=e(h),"documentGroup"===r)t&&(l=t.args.x,s=t.args.y),u=n.widget.width(),c=n.widget.height(),y=a;else if("tabbedGroup"===r){t&&(l=t.pageX,s=t.pageY),u=n.widget.width(),c=n.widget.height(),y="",p=document.createElement("div");var m=document.createElement("div"),_=document.createElement("ul");_.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(g.rtl?"rtl":"ltr");for(var f=0;f<n.items.length;f++){var q=n.items[f],x=document.createElement("div"),j=document.createElement("li");j.innerHTML=q.title,_.appendChild(j);for(var w=0;w<a[f].length;w++)a[f][w].appendTo(x);m.appendChild(x)}p.appendChild(_),p.appendChild(m),y=p=e(p)}else"autoHideGroup"===r&&(t&&(l=t.pageX,s=t.pageY),u=e(v._find(n.parent.widget,".jqx-ribbon-content")[0]).width(),c=n.parent.widget.height(),y=a);if(!l&&!s){var b=v.host.offset();l=(v.host.width()-u)/2+b.left+100,s=(v.host.height()-c)/2+b.top+10}h.on("moved close",function(e){g._hideOverlays();var t=h.current;"moved"===e.type?(t.position.x=e.args.x,t.position.y=e.args.y,t._overlayGroup&&g._updateOverlayGroup(t._overlayGroup),g._clearTextSelection(),g._windowCreate=!1,g._hideOverlays()):(v._raiseEvent("4",{element:h,floatGroup:h.current}),t._overlayGroup&&(t._overlayGroup.removed=!0,g._updateOverlayGroups()),t.removed=!0,v._updateLayout(v.layout))}),h.on("resized",function(t){var o=h.current,a=e(this).offset();o.width=t.args.width,o.height=t.args.height,o.position.x=a.left,o.position.y=a.top,o._overlayGroup&&g._updateOverlayGroup(o._overlayGroup)}),h.jqxWindow({theme:v.theme,title:o,content:y,width:u,maxWidth:null,height:c,maxHeight:null,position:{x:l-100,y:s-10},closeButtonAction:"close",rtl:v.rtl,initContent:function(){var e,a=this._header,u=v._touchDevice?"touchstart":"mousedown";e="autoHideGroup"===r?n.parent:n,t&&(g._draggedWindow={fromGroup:e,fromPanel:i,title:o,element:h},a.trigger("mousedown",[l,s]),g._windowDragged=!0,g._windowCreate=!0,g._interval(),v.resizable&&(v._overlay[0].style.display="block"),g._showEdgeOverlays()),a.on(u,function(){g._windowDragged=!0,h.current._overlayGroup&&(h.current._overlayGroup.self=!0),g._interval(),v.resizable&&(v._overlay[0].style.display="block"),g._draggedWindow={fromGroup:e,fromPanel:i,title:o,element:h},g._showEdgeOverlays()}),a.on("mouseup",function(){g._hideOverlays(),g._windowCreate=!1}),"tabbedGroup"===r&&(p.jqxRibbon({theme:v.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:d,selectionMode:"click",animationType:"none",rtl:v.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),p.on("select",function(e){if(!e.owner.widgetName||"jqxRibbon"===e.owner.widgetName){var t=h.current.items[0].items[e.args.selectedIndex];h.jqxWindow("setTitle",t.title),t.selected=!0}}),p.on("unselect",function(e){e.owner.widgetName&&"jqxRibbon"!==e.owner.widgetName||(h.current.items[0].items[e.args.unselectedIndex].selected=!1)}),p.on("reorder",function(e){v._swapPanelsInLayout(h.current.items[0].items,e.args.newIndex,e.args.oldIndex)}),p.on("_removeByDrag",function(e){g._removeByDragHandler(e,h.current.items[0],p),1===h.current.items[0].items.length&&p.jqxRibbon({_removeByDrag:!1})}))}});var k,G,T={type:"floatGroup",parent:{type:"host"},widget:h,position:{x:l-100,y:s-10},index:v.layout.length,width:u,height:c};if(h.current=T,i)T.items=[],v._copyItem(i,T.items),k=T.items,G=T;else{T.items=[{type:"tabbedGroup",items:[],parent:T,widget:p}],k=T.items[0].items;for(var O=0;O<n.items.length;O++)v._copyItem(n.items[O],k);G=T.items[0]}for(var D=0;D<k.length;D++)k[D].parent=G;v.layout.push(T),g._raiseEvent("0",{item:T}),g._trackFloatGroups()},_interval:function(){var e=this;if(!0===e._oldIE){var t=e._overlayWidth,o=e._overlayHeight;e._oldIEInterval=setInterval(function(){e._checkPosition(t,o),e._windowCreate&&e._draggedWindow.element.jqxWindow("move",e._x-50,e._y-10)},1e3)}},_createOverlay:function(){function t(t,o,a,n){r._dropOverlay.style.display="block",r._dropOverlay.style.width=t+"px",r._dropOverlay.style.height=o+"px",e(r._dropOverlay).offset({left:a,top:n})}function o(o){if(o=r._closest(o,"jqx-docking-layout-overlay-square"),l=o,!e(n._find(o,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")){var a=r._dropToGroup.element.width(),i=r._dropToGroup.element.height(),d=r._dropToGroup.element.offset();o.hasClass("jqx-docking-layout-overlay-square-top")?t(a,i/2,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-left")?t(a/2,i,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-center")&&!r._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?t(a,i,d.left,d.top):o.hasClass("jqx-docking-layout-overlay-square-right")?t(a/2,i,d.left+a/2,d.top):o.hasClass("jqx-docking-layout-overlay-square-bottom")?t(a,i/2,d.left,d.top+i/2):n._touchDevice&&(r._dropOverlay.style.display="none",l=!1)}}function a(t){var o=r._dropToGroup.settings;if(e(n._find(t,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))r._hideOverlays();else{if(t.hasClass("jqx-docking-layout-overlay-square-top"))r._dropHandler(0,"vertical","height","top");else if(t.hasClass("jqx-docking-layout-overlay-square-left"))r._dropHandler(0,"horizontal","width","left");else if(t.hasClass("jqx-docking-layout-overlay-square-center")){var a,i,d=r._getDraggedWindowInformation(),l=d.title,s=d.content;if("documentGroup"===o.type?(a=o.widget,i="documentPanel"):"tabbedGroup"===o.type&&(a="floatGroup"===o.parent.type?o.widget:e(n._find(o.widget,".jqx-ribbon")[0]),i="layoutPanel"),"layoutGroup"===o.type)r._dropToEmptyLayoutGroup(d);else for(var u=0;u<l.length;u++){a.jqxRibbon({_suppressReorder:!0}),a.jqxRibbon("addAt",n._find(a,".jqx-ribbon-content-section").length,{title:l[u],content:s[u]},!0);var c=o.items.length,y={type:i,title:l[u],parent:o,index:c,detachedContent:d.content[u],docked:!0};o.items.push(y),n._addRightClickHandler(e(n._find(a,".jqx-ribbon-item")[c]),{current:y}),a.jqxRibbon({_suppressReorder:!1})}"floatGroup"===o.parent.type&&o.widget.jqxRibbon({_removeByDrag:!0}),r._clearTextSelection(),r._raiseEvent("1",{position:"center",item:o})}else t.hasClass("jqx-docking-layout-overlay-square-right")?r._dropHandler(1,"horizontal","width","right"):t.hasClass("jqx-docking-layout-overlay-square-bottom")&&r._dropHandler(1,"vertical","height","bottom");r._removeFloatGroupObject(r._draggedWindow.element.current),r._draggedWindow.element.remove(),r._hideOverlays()}}var r=this,n=r.base,i=n.element.id;r._overlay=document.createElement("div"),r._overlay.className=n.toThemeProperty("jqx-docking-layout-overlay"),r._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+n.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+n.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+n.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',r._overlay=e(r._overlay);var d=n._find(r._overlay,".jqx-docking-layout-overlay-square-center")[0];r._overlayCenter=e(d.firstChild),r._dropOverlay=document.createElement("div"),r._dropOverlay.className=r.toThemeProperty("jqx-docking-layout-drop-overlay"),r._dropOverlayHelper=e(r._dropOverlay),n._ie7?e("body").append(r._overlay,r._dropOverlay):(n.element.appendChild(r._overlay[0]),n.element.appendChild(r._dropOverlay)),r._overlayWidth=r._overlay[0].offsetWidth,r._overlayHeight=r._overlay[0].offsetHeight,r._overlay[0].style.display="none",r._addOverlayHandlers(),r._squares=[n._find(r._overlay,".jqx-docking-layout-overlay-square-top")[0],n._find(r._overlay,".jqx-docking-layout-overlay-square-left")[0],d,n._find(r._overlay,".jqx-docking-layout-overlay-square-right")[0],n._find(r._overlay,".jqx-docking-layout-overlay-square-bottom")[0]],r._sansCenter=[e(n._find(e(r._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),e(n._find(e(r._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])];var l=!1;n._touchDevice?(r.addHandler(e(document),"touchmove.jqxDockingLayout"+i,function(t){if(r._windowDragged){t.preventDefault();var a=t.originalEvent.touches[0];o(e(document.elementFromPoint(a.pageX,a.pageY)))}}),r.addHandler(e(document),"touchend.jqxDockingLayout"+i,function(){!1!==l&&(a(l),l=!1)})):e.each(r._squares,function(){r.addHandler(this,"mouseenter.jqxDockingLayout"+i,function(){o(e(this))}),r.addHandler(this,"mouseleave.jqxDockingLayout"+i,function(){r._dropOverlay.style.display="none"}),r.addHandler(this,"mouseup.jqxDockingLayout"+i,function(){a(e(this))})})},_addOverlayHandlers:function(){var t=this,o=t._overlayWidth,a=t._overlayHeight;t.base._touchDevice?t.addHandler(e(document),"touchmove.jqxDockingLayout"+t.base.element.id,function(e){var r=e.originalEvent.touches[0];t._x=r.pageX,t._y=r.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(o,a),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",r.pageX-50,r.pageY-10))}):t.addHandler(e(document),"mousemove.jqxDockingLayout"+t.base.element.id,function(e){t._x=e.pageX,t._y=e.pageY,t._windowDragged&&!t._oldIE&&(t._checkPosition(o,a),t._windowCreate&&t._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))})},_checkPosition:function(e,t){for(var o=this,a=o.base,r=o._x,n=o._y,i=0;i<a._overlayGroups.length;i++){var d=a._overlayGroups[i];if(!d.self){var l=d.width,s=d.height,u=d.offset,c=u.left,y=u.top;if(r>=c&&r<=c+l&&n>=y&&n<=y+s){if(("documentGroup"===d.settings.type&&"documentGroup"===o._draggedWindow.fromGroup.type||"tabbedGroup"===d.settings.type&&("tabbedGroup"===o._draggedWindow.fromGroup.type||"autoHideGroup"===o._draggedWindow.fromGroup.type)||"layoutGroup"===d.settings.type)&&!1!==d.settings.allowDrop)o._overlayCenter.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));else if(o._overlayCenter.addClass(a.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===d.settings.parent.type)return;for(var p=0;p<o._sansCenter.length;p++)"floatGroup"===d.settings.parent.type?o._sansCenter[p].addClass(a.toThemeProperty("jqx-fill-state-disabled")):o._sansCenter[p].removeClass(a.toThemeProperty("jqx-fill-state-disabled"));return o._overlay[0].style.display="block",o._overlay.offset({left:parseInt(c+l/2-e/2,10),top:parseInt(y+s/2-t/2,10)}),void(o._dropToGroup=d)}}}o._overlay[0].style.display="none"},_dropHandler:function(t,o,a,r){var n,i,d=this,l=d.base,s=d._dropToGroup.settings,u=s.parent,c=d._getDraggedWindowInformation(),y=c.title,p=c.content,g=c.groupType,v=c.itemType,h=[];if(u.orientation===o){n=s.index+t,(i={type:g,parent:u})[a]=d._draggedWindow.element[a]();for(var m=0;m<y.length;m++)h.push({type:v,title:y[m],parent:i,prevent:!0,selected:d._getFloatGroupItemSelection(m),detachedContent:p[m],docked:!0});i.items=h,d._setOptimalDimension(a,i,s),u.items.splice(n,0,i)}else{var _,f;"width"===a?(_="height",f="minHeight"):(_="width",f="minWidth");var q={type:"layoutGroup",orientation:o,parent:s.parent,index:s.index};q[_]=s[_],s[f]&&(q[f]=s[f]),s.parent.items.splice(s.index,1),s.parent.items.splice(s.index,0,q),s.parent=q,i={type:g,parent:q};for(var x=0;x<y.length;x++)h.push({type:v,title:y[x],parent:i,prevent:!0,selected:d._getFloatGroupItemSelection(x),detachedContent:p[x],docked:!0});i.items=h,delete s[_],s[a]="50%",i[a]="50%",q.items=[s],q.items.splice(0+t,0,i)}l.render();for(var j=l._find(i.widget,".jqx-ribbon-content-section"),w=0;w<j.length;w++)for(var b=e(j[w]),k=p[w],G=0;G<k.length;G++)p[w][G].appendTo(b);d._clearTextSelection(),l._raiseEvent("1",{item:s}),d._raiseEvent("1",{position:r,item:i})},_setOptimalDimension:function(e,t,o){var a,r=this,n="width"===e?"minWidth":"minHeight",i=o[n]||r.base["minGroup"+e.charAt(0).toUpperCase()+e.slice(1)],d=o.parent.widget[e]();a=parseFloat(o[e])-i/d*100;var l=t[e]/d*100;if(a<l){t[e]=parseFloat(o[e])/2+"%",t[n]=parseInt(parseFloat(t[e])/100*d,10),o[e]=parseFloat(o[e])-parseFloat(t[e])+"%";var s=parseInt(parseFloat(o[e])/100*d,10);s<i&&(o[n]=s)}else t[e]=l+"%",o[e]=parseFloat(o[e])-l+"%"},_dropToEmptyLayoutGroup:function(e){var t=this,o=t._dropToGroup.settings,a={type:e.groupType,items:[],parent:o},r=e.content;"horizontal"===o.orientation?a.width="100%":"vertical"===o.orientation&&(a.height="100%");for(var n=0;n<e.title.length;n++){var i={type:e.itemType,title:e.title[n],parent:a,prevent:!0,selected:t._getFloatGroupItemSelection(n),detachedContent:r[n],docked:!0};a.items.push(i)}o.items.push(a),t.base.render();for(var d=t.base._find(a.widget,".jqx-ribbon-content-section"),l=0;l<d.length;l++)for(var s=0;s<r[l].length;s++)r[l][s].appendTo(d[l])},_getFloatGroupItemSelection:function(e){var t=this;return!!t._draggedWindow.fromPanel||t._draggedWindow.element.current.items[0].items[e].selected},_createEdgeOverlays:function(){function t(t){var r,n,i="left"===t||"right"===t?"horizontal":"vertical",d='<div class="'+a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+i)+'"><div class="'+a.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+i)+'"></div><div class="'+a.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+i)+'"></div></div>',l='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+i)+'"><div class="'+a.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+t)+'"></div></div>';return n="left"===t||"top"===t?d+l:l+d,r=document.createElement("div"),r.className=a.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),r.innerHTML='<div class="'+a.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+n+"</div>",a._ie7?document.body.appendChild(r):a.element.appendChild(r),o._edgeOverlays.push(r),e(r)}var o=this,a=o.base;o._edgeOverlays=[],o._leftOverlay=t("left"),o._rightOverlay=t("right"),o._topOverlay=t("top"),o._bottomOverlay=t("bottom"),o._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function t(t,o,a,r){n._dropOverlay.style.display="block",n._dropOverlay.style.width=t,n._dropOverlay.style.height=o,e(n._dropOverlay).offset({left:a,top:r})}function o(o){switch(r=i.host.offset(),o=n._closest(e(o),"jqx-docking-layout-overlay-square-edge")[0],l=o,o){case n._leftOverlay[0]:t("100px",i.host.height()+"px",r.left,r.top);break;case n._rightOverlay[0]:t("100px",i.host.height()+"px",r.left+i.host.width()-100,r.top);break;case n._topOverlay[0]:t(i.host.width()+"px","100px",r.left,r.top);break;case n._bottomOverlay[0]:t(i.host.width()+"px","100px",r.left,r.top+i.host.height()-100);break;default:i._touchDevice&&(l=!1)}}function a(e){switch(e){case n._leftOverlay[0]:n._dropToEdge("left",0,"horizontal","width");break;case n._rightOverlay[0]:n._dropToEdge("right",i.layout[0].items.length-1,"horizontal","width");break;case n._topOverlay[0]:n._dropToEdge("top",0,"vertical","height");break;case n._bottomOverlay[0]:n._dropToEdge("bottom",i.layout[0].items.length-1,"vertical","height")}}var r,n=this,i=n.base,d=i.element.id,l=!1;i._touchDevice?(n.addHandler(e(document),"touchmove.jqxDockingLayout"+d,function(t){if(n._windowDragged){t.preventDefault();var a=t.originalEvent.touches[0];o(e(document.elementFromPoint(a.pageX,a.pageY)))}}),n.addHandler(e(document),"touchend.jqxDockingLayout"+d,function(){!1!==l&&(a(l),l=!1)})):e.each(n._edgeOverlays,function(){n.addHandler(this,"mouseenter.jqxDockingLayout"+d,function(){o(this)}),n.addHandler(this,"mouseleave.jqxDockingLayout"+d,function(){n._dropOverlay.style.display="none"}),n.addHandler(this,"mouseup.jqxDockingLayout"+d,function(){a(this)})})},_dropToEdge:function(e,t,o,a){var r,n,i=this,d=i.base,l=d.layout[0],s=i._getDraggedWindowInformation(),u=s.title,c=s.content,y=s.groupType,p=s.itemType,g=[];if(i._removeFloatGroupObject(i._draggedWindow.element.current),l.orientation===o){(r={type:y,parent:l})[a]=i._draggedWindow.element[a]();for(var v=0;v<u.length;v++)g.push({type:p,title:u[v],parent:r,prevent:!0,selected:i._getFloatGroupItemSelection(v),detachedContent:c[v],docked:!0});r.items=g,n=l.items[t],i._setOptimalDimension(a,r,n),"left"===e||"top"===e?l.items.splice(t,0,r):l.items.push(r)}else{var h;"width"===a?(h="height","minHeight"):(h="width","minWidth");var m={type:"layoutGroup",orientation:o,parent:l.parent,index:l.index};r={type:y,parent:m};for(var _=0;_<u.length;_++)g.push({type:p,title:u[_],parent:r,prevent:!0,selected:i._getFloatGroupItemSelection(_),detachedContent:c[_],docked:!0});r.items=g,delete l[h],delete r[h],r[a]="50%",l[a]="50%",l.parent=m,m.items="left"===e||"top"===e?[r,l]:[l,r],d.layout[0]=m,n=l}d.render();for(var f=d._find(r.widget,".jqx-ribbon-content-section"),q=0;q<f.length;q++)for(var x=0;x<c[q].length;x++)c[q][x].appendTo(f[q]);i._clearTextSelection(),d._raiseEvent("1",{item:n}),i._raiseEvent("1",{position:e+"-edge",item:r}),i._draggedWindow.element.remove(),i._hideOverlays()},_showEdgeOverlays:function(){function e(t){if(t.items&&0!==t.items.length){var o=t.orientation,a=t.items[0],r=t.items[t.items.length-1];"horizontal"===o?("autoHideGroup"===a.type?i=i&&!1:"layoutGroup"===a.type&&e(a),"autoHideGroup"===r.type?d=d&&!1:"layoutGroup"===r.type&&e(r)):"vertical"===o&&("autoHideGroup"===a.type?l=l&&!1:"layoutGroup"===a.type&&e(a),"autoHideGroup"===r.type?s=s&&!1:"layoutGroup"===r.type&&e(r))}}var t=this,o=t.base,a=o.host.width(),r=o.host.height(),n=o.host.offset(),i=!0,d=!0,l=!0,s=!0;e(o.layout[0]),i&&(t._leftOverlay[0].style.display="block"),d&&(t._rightOverlay[0].style.display="block"),l&&(t._topOverlay[0].style.display="block"),s&&(t._bottomOverlay[0].style.display="block"),t._leftOverlay.offset({left:n.left+5,top:n.top+r/2-20}),t._rightOverlay.offset({left:n.left+a-40,top:n.top+r/2-20}),t._topOverlay.offset({left:n.left+a/2-20,top:n.top+5}),t._bottomOverlay.offset({left:n.left+a/2-20,top:n.top+r-40})},_hideOverlays:function(){var e=this,t=e.base;e._windowDragged=!1,!0===e._oldIE&&clearInterval(e._oldIEInterval),t.resizable&&setTimeout(function(){e.base._overlay[0].style.display="none"},0),e._overlay[0].style.display="none";for(var o=0;o<e._edgeOverlays.length;o++)e._edgeOverlays[o].style.display="none";e._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var e,t,o=this,a=o.base,r=[],n=[];if(o._draggedWindow.fromPanel)r.push(o._draggedWindow.title),n.push(a._detachChildNodes(a._find(o._draggedWindow.element,".jqx-window-content")[0]));else for(var i=a._find(o._draggedWindow.element,".jqx-ribbon-content-section"),d=0;d<o._draggedWindow.element.current.items[0].items.length;d++){var l=o._draggedWindow.element.current.items[0].items[d];r.push(l.title),n.push(a._detachChildNodes(i[d]))}return"documentGroup"===o._draggedWindow.fromGroup.type?(e="documentGroup",t="documentPanel"):(e="tabbedGroup",t="layoutPanel"),{title:r,content:n,groupType:e,itemType:t}},_removeFloatGroupObject:function(e){var t=this.base;e.removed=!0,t._updateLayout(t.layout)},_trackFloatGroups:function(){for(var e=this.base,t=1;t<e.layout.length;t++){var o=e.layout[t];if("tabbedGroup"===o.items[0].type){var a=o.items[0].widget,r={element:a,width:a.width(),height:a.height(),offset:a.offset(),settings:o.items[0]};o._overlayGroup=r,e._overlayGroups.push(r)}}},_updateOverlayGroup:function(e){if(e){var t=e.element;e.width=t.width(),e.height=t.height(),e.offset=t.offset(),e.self=!1}},_updateOverlayGroups:function(){for(var e=this.base._overlayGroups,t=e.length-1;t>=0;t--)!0===e[t].removed&&e.splice(t,1)},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(e){}},_closest:function(t,o){if(t.hasClass(o))return t;for(var a=e(t[0].parentNode);null!==a[0]&&"#document"!==a[0].nodeName;){if(a.hasClass(o))return a;a=e(a[0].parentNode)}}})}(jqxBaseFramework);

