/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){"use strict";e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)t.refresh();else{this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var r=this._headerText.className;this._headerElement.className=r,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,r){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===r&&!1===i?(this.expanded=!1,this.expand()):!1===r&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var r=this.events[t],a=new e.Event(r);a.owner=this,a.args=i;var n;try{n=this.host.trigger(a)}catch(e){}return n},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",r="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?r+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(r+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(r)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0);break;case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0;break;case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework);

