/*
jQWidgets v5.1.0 (2017-Aug)
Copyright (c) 2011-2017 jQWidgets.
License: http://jqwidgets.com/license/
*/
!function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===e.jqx._jqxCalendar.prototype?t:(e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var a={title:i.field.title};if(i.field.value&&(a.value=i.field.value),i.field.checked&&(a.checked=!0),i.field.id.length?a.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:a.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var s=new Date(i.field.getAttribute("min"));"Invalid Date"!=s&&(i.min=s)}if(i.field.getAttribute("max")){var r=new Date(i.field.getAttribute("max"));"Invalid Date"!=r&&(i.max=r)}var l=e("<div></div>",a);l[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(l);var n=i.host.data();if(i.host=l,i.host.data(n),i.element=l[0],i.element.id=i.field.id,i.field.id=a.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},createInstance:function(t){this._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");this.element.id;var i=this;if(this.propertyChangeMap.width=function(e,t,a,s){i.setCalendarSize()},this.propertyChangeMap.height=function(e,t,a,s){i.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var a=Globalize.culture(this.culture);this.localization.calendar=a.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return i.keyboardNavigation&&void 0!=i._handleKey&&((t=i._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var s=!1,r=this,l=!1;null!=i.width&&-1!=i.width.toString().indexOf("%")&&(l=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(l=!0),e.jqx.utilities.resize(this.host,function(){var e=r.host.find("#View"+i.element.id);s?r.refreshTitle(e):(s=!0,r.render()),l&&(i.refreshTimer&&clearTimeout(i.refreshTimer),i.refreshTimer=setTimeout(function(){i.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,a,s){s?e.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,a=this._getSelectedDate();if(void 0==a){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),a=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var s=this._getSelectedCell();this._setDateAndSwitchViews(s,t,"keyboard")}if("year"==this.view){var r=a.getMonth(),l=this._getYearAndMonthPart(this.getMinDate()),n=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:return 0==r?(h=new Date(a.getFullYear()-1,11,1))>=l?(this.selectedDate=h,this.navigateBackward()):this.selectedDate!=l&&(this.selectedDate=l,this.navigateBackward()):(h=new Date(a.getFullYear(),r-1,1))>=l&&this._selectDate(h,"key"),!1;case 38:return(h=new Date(a.getFullYear(),r-4,1))<l&&(h=l),r-4<0?(this.selectedDate=h,this.navigateBackward()):this._selectDate(h,"key"),!1;case 40:return(h=new Date(a.getFullYear(),r+4,1))>n&&(h=n),r+4>11?(this.selectedDate=h,this.navigateForward()):this._selectDate(h,"key"),!1;case 39:if(11==r)(h=new Date(a.getFullYear()+1,0,1))<=n?(this.selectedDate=h,this.navigateForward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateForward());else{var h=new Date(a.getFullYear(),r+1,1);h<=n&&this._selectDate(h,"key")}return!1}return!0}if("decade"==this.view){var d=this._renderStartDate.getFullYear(),o=this._renderEndDate.getFullYear(),c=a.getFullYear(),u=this.getMinDate().getFullYear(),g=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(c<=d?(this.selectedDate=new Date(c-1,a.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,a.getMonth(),1),"key")),!1;case 38:var f=c-4;return c-4<u&&(f=u),f<d?(this.selectedDate=new Date(f,a.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(f,a.getMonth(),1),"key"),!1;case 40:return(f=c+4)>g&&(f=g),f>o?(this.selectedDate=new Date(f,a.getMonth(),1),this.navigateForward()):this._selectDate(new Date(f,a.getMonth(),1),"key"),!1;case 39:return c+1<=g&&(c==o?(this.selectedDate=new Date(c+1,a.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,a.getMonth(),1),"key")),!1}return!0}var m=new e.jqx._jqxDateTimeInput.getDateTime(a),v=this.getViewStart(),D=this.getViewEnd(),w=e.data(this.element,"View"+this.element.id);if(void 0==w||null==w)return!0;if(36==i)return m._setDay(1),!this._isDisabled(m.dateTime)&&(this._selectDate(m.dateTime,"key"),!1);if(35==i){var y=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(y),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var p=1;if(t.ctrlKey&&(p=12),34==i){if(_=this.navigateForward(p)){if(m._addMonths(p),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==i){if(_=this.navigateBackward(p)){if(m._addMonths(-p),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==i){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<v&&!(_=this.navigateBackward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T<=m.dateTime){this.value.day=T.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==i){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>D&&!(_=this.navigateForward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T>=m.dateTime){this.value.day=T.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==i){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<v&&!(_=this.navigateBackward()))return!1;if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(b=0;b<w.cells.length;b++){T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==i){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>D){var _=this.navigateForward();if(!_)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var b=0;b<w.cells.length;b++){var T=(s=w.cells[b]).getDate();if(s.isOtherMonth&&s.isSelected&&T>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var a=this.specialDates.length;this.specialDates[a]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a);this.refreshCalendarCells(i,s,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var r=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(r=this.host.height()-this.titleHeight),this.showFooter&&(r-=20);var l=i.find("#cellsTable"+e),n=i.find("#calendarRowHeader"+e);l.height(r),n.height(r)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a),r=(s.dayOfWeek,this.getWeekOfYear(s)),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));l._addDays(5),l.dayOfWeek=l.dateTime.getDay();this.getWeekOfYear(l);var n=this.rowHeader.find("table");n.width(this.rowHeaderWidth);for(var h=s,d=new Array,o=0;o<6;o++){r.toString();var c=new e.jqx._jqxCalendar.cell(h.dateTime),u=o+1+this.element.id,g=e(n[0].rows[o].cells[0]);c.element=g,c.row=o,c.column=0;var f=g.find("#headerCellContent"+u);f.addClass(this.toThemeProperty("jqx-calendar-row-cell")),f[0].innerHTML=r,d[o]=c,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addWeeks(1))),r=this.getWeekOfYear(h)}var m=e.data(this.element,t[0].id);m.rowCells=d,this._refreshOtherMonthRows(m,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,a=!1,s=0;s<e.cells.length;s++){var r=e.cells[s];r.isVisible&&s<7?i=!0:r.isVisible&&s>=e.cells.length-7&&(a=!0)}i||this._displayFirstRow(!1,t),a||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var a=this.host.find("#"+i),s=a.find("#calendarRowHeader"+a[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=e(s[0].rows[5]);var l=e(a.find("#cellTable"+a[0].id)[0].rows[5]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),l.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),l.css("display","none"))},_displayFirstRow:function(t,i){var a=this.host.find("#"+i),s=a.find("#calendarRowHeader"+a[0].id).find("table"),r=null;if(this.showWeekNumbers&&s[0].cells)r=e(s[0].rows[0]);var l=e(a.find("#cellTable"+a[0].id)[0].rows[0]);t?(this.showWeekNumbers&&r&&r.css("display","table-row"),l.css("display","table-row")):(this.showWeekNumbers&&r&&r.css("display","none"),l.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var a=this.host.find("#"+t.toString());null!=a&&a.remove();var s=e("<div id='"+t.toString()+"'></div>"),r=this.getVisibleDate(),l=this.getFirstDayOfWeek(r),n=new e.jqx._jqxDateTimeInput.getDateTime(l.dateTime);n._addMonths(1);var h=e.jqx._jqxCalendar.monthView(l,n,null,null,null,s);void 0==i||null==i?(this.host.append(s),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&s.height(this.height):s.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&s.width(this.width):s.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&s.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&s.height("100%")):i.append(s),e.data(this.element,t,h);var d=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(d=this.host.height()-this.titleHeight),this.showFooter&&(d-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var o=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(o=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",g="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+o+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+d+"' width='"+o+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+d+"'></td></tr></table>",f="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";s[0].innerHTML=u+g+f,this.header=s.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=s.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=s.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=s.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=s.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=s.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=s.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=s.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=s.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=s.find("#calendarFooter"),this._footer=s.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=s.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=s.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=s,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(s):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var v=e("<a href='javascript:;'>"+this.todayString+"</a>");v.appendTo(this.todayButton);var D=e("<a href='javascript:;'>"+this.clearString+"</a>");D.appendTo(this.doneButton),D.addClass(this.toThemeProperty("jqx-calendar-footer")),v.addClass(this.toThemeProperty("jqx-calendar-footer"));var w=this,y="mousedown";e.jqx.mobile.isTouchDevice()&&(y=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(v,y,function(){return w.today?w.today():w.setDate(new Date,"mouse"),!1}),this.addHandler(D,y,function(){return w.clear?w.clear():w.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(s),this.oldView=this.view,this.renderCalendarCells(s,l,t),void 0!=i&&null!=i||this.renderTitle(s),this._refreshOtherMonthRows(h,t),s.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var p=this;return this.addHandler(this.host,"focus",function(){p.focus()}),s}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),a=e("<div role='button' style='float: right;'></div>"),s=this.title;s.addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-header")),s.addClass(this.toThemeProperty("jqx-calendar-title-header"));var r=s.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=r.css("background-color")){var l=s.css("background-color");r.css("background-color",l)}if("transparent"!=r.css("background-image")){var n=s.css("background-image"),h=s.css("background-repeat");s.css("background-position");r.css("background-image",n),r.css("background-repeat",h),r.css("background-position","left center scroll")}}else r.css("background-color","transparent");this.disabled&&s.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var d=this.leftButton;a.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.appendTo(this.rightButton);var o=this.rightButton;this.enableTooltips&&e(d).jqxTooltip&&(e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(o).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view)u=(g=this._format(this._renderStartDate,this._getTitleFormat(),this.culture))+" - "+(f=this._format(this._renderEndDate,this._getTitleFormat(),this.culture));else if("centuries"==this.view){var g=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=g+" - "+f}var m=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(m),m.addClass(this.toThemeProperty("jqx-calendar-title-content"));var v=parseInt(i.width()),D=t.width()-2*v;c.find(".jqx-calendar-title-content").width(D);e.data(i,"navigateLeft",this),e.data(a,"navigateRight",this);var w=e.jqx.mobile.isTouchDevice();if(!this.disabled){var y=this;this.addHandler(c,"mousedown",function(e){if(y.enableViews){if(!y._viewAnimating&&!y._animating){var t=y.view;switch(y.oldView=t,y.view){case"month":y.view="year";break;case"year":y.view="decade"}if(-1==y.views.indexOf("year")&&"year"==y.view&&(y.view="decade"),-1==y.views.indexOf("decade")&&"decade"==y.view&&(y.view=t),t!=y.view){var i="View"+y.element.id,a=y.host.find("#"+i),s=y.getVisibleDate(),r=y.getFirstDayOfWeek(s);y.renderCalendarCells(a,r,i,!0),y.refreshTitle(a),y._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(y._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var a=e.data(i,"navigateLeft");return a.enableFastNavigation&&!w&&a.startRepeat(a,i,!0,y.navigationDelay+200),a.navigateBackward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),a._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(a,"mousedown",function(t){if(y._animating)return!1;e.data(a,"navigateRightRepeat",!0);var i=e.data(a,"navigateRight");return i.enableFastNavigation&&!w&&i.startRepeat(i,a,!1,y.navigationDelay+200),i.navigateForward(y.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(a,"mouseup",function(t){e.data(a,"navigateRightRepeat",!1)}),this.addHandler(a,"mouseleave",function(t){e.data(a,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view)i=(a=this._format(this._renderStartDate,this._getTitleFormat(),this.culture))+" - "+(s=this._format(this._renderEndDate,this._getTitleFormat(),this.culture));else if("centuries"==this.view){var a=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=a+" - "+s}var r=this.titleHeader;if(this.titleHeader){var l=r.find(".jqx-calendar-title-content"),n=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");r.append(n),n.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=l&&l.remove()}},startRepeat:function(t,i,a,s){var r=window.setTimeout(function(){var l=e.data(i,"navigateLeftRepeat");a||(l=e.data(i,"navigateRightRepeat")),l?(s<25&&(s=25),a?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),r=t.startRepeat(t,i,!1,s))):window.clearTimeout(r)},s)},navigateForward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var a=this.getMaxDate().getFullYear();if((a<i||i>a)&&(i=a),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day;if(this.value.month+e<=12){var r=this.value._daysInMonth(this.value.year,this.value.month+e);s>r&&(s=r)}if("month"==this.view){l=new Date(this.value.year,this.value.month-1+e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var l=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(l)},navigateBackward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var a=this.getMinDate().getFullYear();if(i<a&&(i=a),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day;if(this.value.month-e>=1){var r=this.value._daysInMonth(this.value.year,this.value.month-e);s>r&&(s=r)}if("month"==this.view){l=new Date(this.value.year,this.value.month-1-e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var l=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(l)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var a=0;a<i.restrictedDates.length;a++){var s=i.restrictedDates[a];if("object"==typeof s&&void 0!=s.from&&void 0!=s.to){var r=s.from,l=s.to;if(t.valueOf()>=r.valueOf()&&t.valueOf()<=l.valueOf())return!0}else if(s.getMonth()==t.getMonth()&&s.getDate()==t.getDate()&&s.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return-1==this.selectableDays.indexOf(t)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,a){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var s=this.table.find("#cellTable"+a.toString()),r=i,l=new Array,n=0,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;d<6;d++)for(var o=0;o<7;o++){var c=d+1,u=o;this.rtl&&(u=6-u);var g=u+1,f="#cell"+c+g+this.element.id,m=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),v=new e.jqx._jqxCalendar.cell(m),D=e(s[0].rows[d].cells[g-1]);D[0].id=f.substring(1),v.element=D,v.row=d,v.column=o,v.isVisible=!0,v.isOtherMonth=!1,v.isToday=!1,v.isWeekend=!1,v.isHighlighted=!1,v.isSelected=!1,r.month!=this.value.month&&(v.isOtherMonth=!0,v.isVisible=this.showOtherMonthDays),this._isRestrictedDate(m)&&(v.isRestricted=!0,v.isDisabled=!0),v.isDisabled||(m<this.getMinDate()||m>this.getMaxDate()||this._isDisabled(m))&&(v.isDisabled=!0),r.month==h.month&&r.day==h.day&&r.year==h.year&&(v.isToday=!0),r.isWeekend()&&(v.isWeekend=!0),e.data(this.element,"cellContent"+f.substring(1),v),e.data(this.element,f.substring(1),v),l[n]=v,n++,e.jqx.utilities.html(D,r.day),this._applyCellStyle(v,D,D),r=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}var w=e.data(this.element,t[0].id);void 0!=w&&null!=w&&(w.cells=l),this.renderedCells=l,this._refreshOtherMonthRows(w,a)}else this.refreshViews(t,i,a)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var a=this.getMinDate(),s=this.getMaxDate(),r=this.value.dateTime.getFullYear();if("decade"==this.view){r+12>s.getFullYear()&&(r=s.getFullYear()-11),r<a.getFullYear()&&(r=a.getFullYear());for(o=0;o<i;o++){c=new Date(a.getFullYear()+o,0,1);if(a.getFullYear()<=r&&r<=c.getFullYear()){for(var l=new Date(c.getFullYear(),c.getMonth(),1),n=0;n<12;n++){var h=new Date(l.getFullYear()+n,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),d=h.getFullYear();a.getFullYear()<=d&&d<=s.getFullYear()?(e.push(d),t.push(h),0==n&&(this._renderStartDate=h),this._renderEndDate=h):(e.push(d),t.push(h))}break}}}else if("centuries"==this.view)for(var o=0;o<i;o+=120){var c=new Date(a.getFullYear()+o+120,0,1);if(a.getFullYear()<=r&&r<=c.getFullYear()){(l=new Date(c.getFullYear()-130,c.getMonth(),1))<a&&(l=a);for(n=0;n<12;n++){var u=new Date(l.getFullYear()+10*n,l.getMonth(),1);l.getFullYear()>=a.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==n&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,a){for(var s=new Array,r=t.find("#cellTable"+a.toString()),l=this._getDecadeAndCenturiesData(),n=l.years,h=l.dates,d=0,o=this.getMinDate(),c=this.getMaxDate(),u=0;u<3;u++)for(var g=0;g<4;g++){var f=g;this.rtl&&(f=3-f);(p=new Date(this.value.dateTime)).setDate(1),p.setMonth(4*u+f);var m=new e.jqx._jqxCalendar.cell(p),v=r[0].rows["row"+(1+u)+this.element.id],D=e(v.cells[g]);m.isSelected=!1,m.isVisible=!0,m.element=D,m.row=u,m.column=g,m.index=s.length;var w="";if("year"==this.view){var y=this.localization.calendar.months.names[4*u+f];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*u+f];break;case"shortest":y=this.localization.calendar.months.namesShort[4*u+f];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}w=y}else"decade"!=this.view&&"centuries"!=this.view||(void 0==(w=n[4*u+f])&&(w="<span style='cursor: default; visibility: hidden;'>2013</span>"),m.setDate(h[4*u+f]));var p=m.getDate();"year"==this.view?p.getMonth()==this.getDate().getMonth()&&p.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0):p.getFullYear()==this.getDate().getFullYear()&&(m.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(p)<this._getYearAndMonthPart(o)&&(m.isDisabled=!0),this._getYearAndMonthPart(p)>this._getYearAndMonthPart(c)&&(m.isDisabled=!0)):(p.getFullYear()<o.getFullYear()&&(m.isDisabled=!0),p.getFullYear()>c.getFullYear()&&(m.isDisabled=!0)),e.jqx.utilities.html(D,w),s[d]=m,d++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,a=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-a),this._viewAnimating=!0;var s=this.host.find(".jqx-calendar-month-container");s.css("position","relative");this.host.find(".jqx-calendar-month");var r=this._createViewClone();s.append(r),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(r,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var a=this;if(a._viewAnimating=!0,a.oldView==a.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(e){}},renderViews:function(t,i,a){var s=this,r=new Array,l=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+a.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var n=t.find("#cellsTable"+t[0].id);n[0].style.borderColor="transparent";var h=this._getDecadeAndCenturiesData(),d=h.years,o=h.dates,c=0,u=this.getMinDate(),g=this.getMaxDate(),f=new Date(this.value.dateTime);f.setDate(1);for(var m=0;m<3;m++)for(var v=0;v<4;v++){var D=v;this.rtl&&(D=3-D);var w=l[0].rows["row"+(1+m)+this.element.id];(T=new Date(f)).setMonth(4*m+D);var y=new e.jqx._jqxCalendar.cell(T),p=e(w.cells[v]);y.isVisible=!0,y.element=p,y.row=m,y.column=v,y.index=r.length,y.isSelected=!1;var _="";if("year"==this.view){T.getMonth()==this.getDate().getMonth()&&T.getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0);var b=this.localization.calendar.months.names[4*m+D];switch(this.monthNameFormat){case"default":b=this.localization.calendar.months.namesAbbr[4*m+D];break;case"shortest":b=this.localization.calendar.months.namesShort[4*m+D];break;case"firstTwoLetters":b=b.substring(0,2);break;case"firstLetter":b=b.substring(0,1)}_=b}else"decade"!=this.view&&"centuries"!=this.view||(_=d[4*m+D],y.setDate(o[4*m+D]),y.getDate().getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0),void 0==_&&(_="<span style='cursor: default; visibility: hidden;'>2013</span>"));var T=y.getDate();if("year"==this.view){var x=new Date(T);x.setDate(1),x.setHours(0,0,0,0),x.setMonth(T.getMonth()+1),x=new Date(x.valueOf()-1),(this._getYearAndMonthPart(T)<this._getYearAndMonthPart(u)||this._getYearAndMonthPart(T)>this._getYearAndMonthPart(g)||!this._hasUnrestrictedRanges(T,x))&&(y.isDisabled=!0)}else{var M=new Date(T);M.setMonth(0),M.setDate(1),M.setHours(0,0,0,0),M.setFullYear(T.getFullYear()+1),M=new Date(M.valueOf()-1),(T.getFullYear()<u.getFullYear()||T.getFullYear()>g.getFullYear()||!this._hasUnrestrictedRanges(T,M))&&(y.isDisabled=!0)}e.jqx.utilities.html(p,_),r[c]=y,c++}e.each(r,function(){var e=this.element,t=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(t,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,s._applyCellStyle(i,i.element,i.element))}),s.addHandler(e,"mouseout",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,s._applyCellStyle(i,i.element,i.element))}))});var C=e.data(this.element,t[0].id);void 0!=C&&null!=C&&(C.cells=r),this.renderedCells=r,this._addCellsTable(n,l),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,a){if(!this._viewAnimating&&!this._animating){this.getDate();var s=this.renderedCells[t.index].getDate(),r=this.value.dateTime.getDate(),l=new Date(s);-1!=this.views.indexOf("month")?l.setDate(r):(l.setDate(1),s.setDate(1)),l.getMonth()==s.getMonth()&&(s=l);var n=this.getMinDate(),h=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(n))return;if(this._getYearAndMonthPart(s)>this._getYearAndMonthPart(h))return}else{if(s.getFullYear()<n.getFullYear())return;if(s.getFullYear()>h.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(s,a),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(n)&&(s=n),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(h)&&(s=h)):(s.getFullYear()<n.getFullYear()&&(s=n),s.getFullYear()>h.getFullYear()&&(s=h)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=s.getFullYear()||this.selectedDate.getMonth()!=s.getMonth()||this.selectedDate.getDate()!=s.getDate())&&(s=this.selectedDate),this.value._setYear(s.getFullYear()),this.value._setDay(s.getDate()),this.value._setMonth(s.getMonth()+1),this.value._setDay(s.getDate());var d=this.getVisibleDate(),o=this.getFirstDayOfWeek(d),c="View"+this.element.id;if(this.renderCalendarCells(this.month,o,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,a=i.getDate(),r=e(i.element);if(0==r.length)return!1;var l=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||l(a).toString()!=l(s).toString()||(u.value._setMonth(s.getMonth()+1),u.value._setDay(s.getDate()),u.value._setYear(s.getFullYear())),i.isSelected=!1,i.isDisabled=!1,l(a)<l(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<a&&(i.isDisabled=!0),u.getMinDate()>a&&(i.isDisabled=!0),u._isDisabled(a)&&(i.isDisabled=!0),i.isDisabled||l(a)>=l(u.selection.from)&&l(a)<=l(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=a&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,a,s){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var r=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+a.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),l=this.table;if(l[0].style.borderColor="transparent",void 0==s){var n=l.find("#cellTable"+a.toString());null!=n&&n.remove(),l.append(r)}var h=i,d=this.showDayNames?1:0,o=this.showWeekNumbers?1:0,c=new Array,u=0,g=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(g=(t.width()-2)/7),g=parseInt(g);for(var f=new e.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;m<6;m++){for(var v=0;v<7;v++){var D=m+1,w=v;this.rtl&&(w=6-w);var y=w+1,p="#cell"+D+y+this.element.id,_=new Date(h.dateTime.getFullYear(),h.dateTime.getMonth(),h.dateTime.getDate()),b=new e.jqx._jqxCalendar.cell(_),T=e(r[0].rows[m].cells[y-1]);T[0].id=p.substring(1),b.isVisible=!0,b.isDisabled=!1,h.month!=this.value.month&&(b.isOtherMonth=!0,b.isVisible=this.showOtherMonthDays),this._isRestrictedDate(_)&&(b.isRestricted=!0,b.isDisabled=!0),b.isDisabled||(_<this.getMinDate()||_>this.getMaxDate()||this._isDisabled(_))&&(b.isDisabled=!0),h.month==f.month&&h.day==f.day&&h.year==f.year&&(b.isToday=!0),h.isWeekend()&&(b.isWeekend=!0),b.element=T,b.row=d,b.column=o,e.jqx.utilities.html(T,h.day),h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addDays(1))),e.data(this.element,"cellContent"+p.substring(1),b),e.data(this.element,""+p.substring(1),b);var x=this;if(this.addHandler(T,"mousedown",function(t){if(!x.readOnly&&!x.disabled){var i=e(t.target),a=e.data(x.element,i[0].id);x._raiseEvent(3,t);if(null!=a&&void 0!=a){var s=a.getDate();if(x.getMinDate()<=s&&s<=x.getMaxDate()&&!a.isDisabled)if(a.isOtherMonth&&x.enableAutoNavigation)a.row<2?x.navigateBackward():x.navigateForward(),x._selectDate(a.getDate(),"mouse",t.shiftKey);else{new Date(x.getDate());x._selectDate(a.getDate(),"mouse",t.shiftKey),x.value._setYear(s.getFullYear()),x.value._setDay(1),x.value._setMonth(s.getMonth()+1),x.value._setDay(s.getDate());var r=x.host.find(".jqx-calendar-month");r.stop(),r.css("margin-left","0px");x.getDate();x._raiseEvent("2"),a.isOtherMonth&&x._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!x.disabled){var M=function(t,i){if(!x.readOnly){var a=e(t.target),s=e.data(x.element,a[0].id);if(null!=s&&void 0!=s){var r=s.getDate();x.getMinDate()<=r&&r<=x.getMaxDate()&&(s.isHighlighted=i,x._applyCellStyle(s,s.element,a))}}};this.addHandler(T,"mouseenter",function(e){return M(e,!0),!1}),this.addHandler(T,"mouseleave",function(e){return M(e,!1),!1})}o++,c[u]=b,u++}o=0,d++}var C=e.data(this.element,t[0].id);void 0!=C&&null!=C&&(C.cells=c),this.renderedCells=c,void 0!=s&&this._addCellsTable(l,r),this._applyCellStyles(),this._refreshOtherMonthRows(C,a)}else this.renderViews(t,i,a)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&"Invalid Date"==(t=new Date(t))||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),!1!==i&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var a=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(a)||t>this._getYearAndMonthPart(s))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var r=this;if(this._animating)return;this._animating=!0;var l=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(c=this.host.find(".jqx-calendar-month")).stop(),c.css("margin-left","0px");var n=c.clone();this._viewClone=n;var h=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),r.refreshControl(),l.css("position","relative"),n.css("position","absolute"),n.css("top",c.position().top),l.append(n),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var d=-this.host.width();t<h&&("month"==this.view&&t.getMonth()!=h.getMonth()?d=this.host.width():t.getFullYear()!=h.getFullYear()&&(d=this.host.width())),n.animate({marginLeft:parseInt(d)+"px"},this.navigationDelay,function(){n.remove()});var o=c.clone();this._newViewClone=o,o.css("position","absolute"),o.css("top",c.position().top),l.append(o),o.css("margin-left",-d),c.css("visibility","hidden"),o.animate({marginLeft:"0px"},this.navigationDelay,function(){o.remove(),c.css("visibility","inherit"),r._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var c=this.host.find(".jqx-calendar-month");c.stop(),c.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,a){if("none"!=this.selectionMode){null!=i&&void 0!=i||(i="none"),null!=a&&void 0!=a||(a=!1);var s=e.data(this.element,"View"+this.element.id);if(void 0!=s&&null!=s){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var r=this.changing(this.selectedDate,t);r&&(t=r)}var l=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var n=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return n!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(a){var s=this,r=s.getDate(),n=e(s.element);n.find("#cellContent"+n[0].id);if(null==t)s.isSelected=!1,s.isDisabled=!1;else if(s.isSelected=!1,r&&(r.getMonth()==t.getMonth()&&"year"==l.view&&r.getFullYear()==t.getFullYear()||"decade"==l.view&&r.getFullYear()==t.getFullYear())){s.isSelected=!0;try{"none"!=i&&s.element.focus()}catch(e){}}l._applyCellStyle(s,n,n)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var h=this.getVisibleDate(),d=this.getFirstDayOfWeek(h);this.refreshCalendarCells(this.month,d,"View"+this.element.id)}var o=!1;e.each(this.renderedCells,function(s){var r=this,n=r.getDate(),h=e(r.element),d=h;if(0==h.length)return!1;if(null==t)r.isSelected=!1,r.isDisabled=!1,0==s&&(l.selection={from:null,to:null},l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i}));else if("range"!=l.selectionMode||"key"==i){if(n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()&&r.isSelected)return l._applyCellStyle(r,h,d),void l._raiseEvent("5",{selectionType:i});if(r.isSelected&&l._raiseEvent("6",{selectionType:i}),r.isSelected=!1,n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()){r.isSelected=!0,0==s&&(l.selection={date:t});try{"none"!=i&&(r.element.focus(),l.host.focus())}catch(e){}r.isOtherMonth||(l.value._setMonth(t.getMonth()+1),l.value._setDay(t.getDate()),l.value._setYear(t.getFullYear()),l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i}))}"range"==l.selectionMode&&(l._clicks=0,l.selection={from:t,to:t})}else if("range"==l.selectionMode){if("view"==i)return r.isSelected=!1,r.isDisabled=!1,l.getMaxDate()<n&&(r.isDisabled=!0),l.getMinDate()>n&&(r.isDisabled=!0),l._isRestrictedDate(n)&&(r.isDisabled=!0,r.isRestricted=!0),!r.isDisabled&&l._isDisabled(n)&&(r.isDisabled=!0),l._applyCellStyle(r,h,d),!0;if(0==s)if("none"!=i)if(void 0==l._clicks&&(l._clicks=0),l._clicks++,a&&l._clicks++,1==l._clicks)l.selection={from:t,to:t};else{var c=l.selection.from,u=c<=t?c:t,g=c<=t?t:c;if(u)var f=new Date(u.getFullYear(),u.getMonth(),u.getDate());if(g)var m=new Date(g.getFullYear(),g.getMonth(),g.getDate(),23,59,59);l.selection={from:f,to:m},l._clicks=0}else null!=l.selection&&null!=l.selection.from||(l.selection={from:t,to:t},void 0==l._clicks&&(l._clicks=0),l._clicks++,2==l._clicks&&(l._clicks=0));var v=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};r.isOtherMonth||v(n).toString()!=v(t).toString()||(l.value._setMonth(t.getMonth()+1),l.value._setDay(t.getDate()),l.value._setYear(t.getFullYear()),l._raiseEvent("2"),l._raiseEvent("5",{selectionType:i})),r.isSelected=!1,r.isDisabled=o,v(n)<v(l.selection.from)&&1==l._clicks&&(r.isDisabled=!0),l.getMaxDate()<n&&(r.isDisabled=!0),l.getMinDate()>n&&(r.isDisabled=!0),l._isRestrictedDate(n)&&(r.isRestricted=!0,r.isDisabled=!0),!r.isDisabled&&l._isDisabled(n)&&(r.isDisabled=!0),r.isDisabled?!l.allowRestrictedDaysInRange&&v(n)>=v(l.selection.from)&&l.selection.to==l.selection.from&&(o=!0):v(n)>=v(l.selection.from)&&v(n)<=v(l.selection.to)&&(r.isSelected=!0)}l._applyCellStyle(r,h,d)}),"range"!=l.selectionMode||0!=l._clicks?"range"!=l.selectionMode&&n!=t&&(l._raiseEvent(7,{selectionType:i}),this.change&&this.change(t)):l._raiseEvent(7,{selectionType:i})}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var a=t.cells[i],s=a.getDate();if(a.isSelected)return s}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var a=t.cells[i];a.getDate();if(a.isSelected)return a}},_applyCellStyle:function(t,i,a){var s=this;(null==a||null!=a&&0==a.length)&&(a=i);var r="";if(r=this.toThemeProperty("jqx-rc-all"),r+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),r+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(r+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&a.length>0&&-1!=a.html().toLowerCase().indexOf("span")&&a.css("cursor","default")):r+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),a.removeAttr("aria-selected"),t.isSelected&&t.isVisible){r+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),r+=" "+this.toThemeProperty("jqx-fill-state-pressed"),a.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",a[0].id);var l=t.getDate();this._isDisabled(l)&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(r+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),r+=" "+this.toThemeProperty("jqx-fill-state-hover"))),r+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(r+=" "+this.toThemeProperty("jqx-calendar-cell-today")),a[0].className=r,this.specialDates.length>0){var n=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?a.removeClass(this.Class):a.removeClass(s.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(a).jqxTooltip)){var r=this.Class;e(a).jqxTooltip({value:{cell:t,specialDate:this.Date},name:n.element.id,content:this.Tooltip,position:"mouse",theme:n.theme,opening:function(e){return!!a.hasClass(s.toThemeProperty("jqx-calendar-cell-specialDate"))||!!a.hasClass(r)}})}return a.removeClass(s.toThemeProperty("jqx-calendar-cell-othermonth")),a.removeClass(s.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(a.addClass(s.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(a.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var a=t.cells[i],s=e(a.element),r=s.find("#cellContent"+s[0].id);0==r.length&&(r=s),this._applyCellStyle(a,s,r)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),a=i.getDay()-dowOffset;a=a>=0?a:a+7;var s,r=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return a<4?(s=Math.floor((r+a-1)/7)+1)>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,s=nday<4?1:53):s=Math.floor((r+a-1)/7),s},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var a=this.getVisibleDate(),s=this.getFirstDayOfWeek(a),r=(s.dayOfWeek,this.getWeekOfYear(s),this.firstDayOfWeek),l=this.localization.calendar.days.names,n=new Array,h=s,d=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(d=(t.width()-2)/7);for(var o=0;o<7;o++){var c=l[r];switch(this.rtl&&(c=l[6-r]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[r],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-r]);break;case"shortest":c=this.localization.calendar.days.namesShort[r],this.rtl&&(c=this.localization.calendar.days.namesShort[6-r]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(h.dateTime),g=o+1+this.element.id,f=e(i[0].rows[0].cells[o]),m=o;this.enableTooltips&&e(f).jqxTooltip&&e(f).jqxTooltip({name:this.element.id,content:l[r],theme:this.theme,position:"mouse"}),r>=6?r=0:r++,o=m,u.element=f,u.row=0,u.column=o+1;var v=this._textwidth(c),D="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+g+"'>"+c+"</div>";if(f.append(D),f.find("#columnCell"+g).addClass(this.toThemeProperty("jqx-calendar-column-cell")),f.width(d),this.disabled&&f.find("#columnCell"+g).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),v>0&&d>0)for(;v>f.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(f.find("#columnCell"+g),c),v=this._textwidth(c);n[o]=u,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date(h._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width()),e.data(this.element,t[0].id).columnCells=n}},_format:function(t,i,a){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(e){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(s)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(e){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var a=i.width();return i.remove(),a},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var a=i.height();return i.remove(),a},_renderRowHeader:function(t){var i=this.getVisibleDate(),a=this.getFirstDayOfWeek(i),s=(a.dayOfWeek,this.getWeekOfYear(a)),r=new e.jqx._jqxDateTimeInput.getDateTime(new Date(a.dateTime));r._addDays(5),r.dayOfWeek=r.dateTime.getDay();this.getWeekOfYear(r);53==s&&0==r.dateTime.getMonth()&&(s=1);var l=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");l.find("table").addClass(this.toThemeProperty("jqx-reset")),l.find("td").addClass(this.toThemeProperty("jqx-reset")),l.find("tr").addClass(this.toThemeProperty("jqx-reset")),l.addClass(this.toThemeProperty("jqx-calendar-row-header")),l.width(this.rowHeaderWidth),this.rowHeader.append(l);for(var n=a,h=new Array,d=0;d<6;d++){var o=s.toString(),c=new e.jqx._jqxCalendar.cell(n.dateTime),u=d+1+this.element.id,g=e(l[0].rows[d].cells[0]);c.element=g,c.row=d,c.column=0;var f="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+o+"</div>";g.append(f),g.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),h[d]=c,n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addWeeks(1))),s=this.getWeekOfYear(n)}e.data(this.element,t[0].id).rowCells=h},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var a=i.dayOfWeek-this.firstDayOfWeek;return a<=0&&(a+=7),e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-a))},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day;return t=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(1-i))},destroy:function(t){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=t&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var a=this.events[t],s=i||{};s.owner=this;var r=new e.Event(a);if(r.owner=this,r.args=s,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){r.args.date=r.args.selectedDate=this.getDate(),r.args.range=this.getRange();var l=this.getViewStart(),n=this.getViewEnd();r.args.view={from:l,to:n}}if(7==t){var h=s.selectionType;h||(h=null),"key"==h&&(h="keyboard"),"none"==h&&(h=null),s.type=h}var d=this.host.trigger(r);return 0!=t&&1!=t||(d=!1),d},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,a,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var r=Globalize.culture(t.culture);t.localization.calendar=r.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(e){}if("views"==i)return-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render();"showFooter"==i&&t.render(),"width"!=i&&"height"!=i?"theme"==i?e.jqx.utilities.setTheme(a,s,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render()):t._setSize()}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){return{dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},e.jqx._jqxCalendar.monthView=function(e,t,i,a,s,r){return{start:e,end:t,cells:i,rowCells:a,columnCells:s,element:r}}}(jqxBaseFramework);

